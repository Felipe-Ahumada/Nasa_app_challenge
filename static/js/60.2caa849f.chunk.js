"use strict";(self.webpackChunkzuricatas_simulator_frontend=self.webpackChunkzuricatas_simulator_frontend||[]).push([[60],{60:(e,t,i)=>{i.r(t),i.d(t,{default:()=>f});var s=i(43),a=i(918),r=i(985),o=i(309),n=i(7),c=i(408),l=i(579);const d=e=>{let{position:t,size:i,depth:r=.1}=e;const o=(0,s.useRef)();return(0,a.C)(e=>{o.current&&o.current.scale.setScalar(1+.05*Math.sin(2*e.clock.elapsedTime))}),(0,l.jsxs)("group",{position:t,ref:o,children:[(0,l.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],children:[(0,l.jsx)("cylinderGeometry",{args:[i,.7*i,r,32]}),(0,l.jsx)("meshStandardMaterial",{color:"#654321",roughness:.9,transparent:!0,opacity:.8})]}),(0,l.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],children:[(0,l.jsx)("ringGeometry",{args:[.9*i,1.2*i,32]}),(0,l.jsx)("meshStandardMaterial",{color:"#8B4513",roughness:.7,side:c.DoubleSide})]}),[...Array(10)].map((e,t)=>{const s=t/10*Math.PI*2,a=i*(1.5+.5*Math.random()),r=[Math.cos(s)*a,.1*Math.random(),Math.sin(s)*a];return(0,l.jsxs)("mesh",{position:r,scale:.05*Math.random()+.02,children:[(0,l.jsx)("dodecahedronGeometry",{}),(0,l.jsx)("meshStandardMaterial",{color:"#444444"})]},t)})]})},p=e=>{let{isActive:t,intensity:i=1}=e;const[r,o]=(0,s.useState)([]),n=(0,s.useRef)([]);return(0,s.useEffect)(()=>{if(t){o([{id:1,startTime:0,maxRadius:2*i},{id:2,startTime:.5,maxRadius:3*i},{id:3,startTime:1,maxRadius:4*i}])}else o([])},[t,i]),(0,a.C)(e=>{n.current.forEach((t,i)=>{if(t&&r[i]){const s=r[i],a=e.clock.elapsedTime-s.startTime,o=Math.max(0,Math.min(1,a/3));if(o>0&&o<1){const e=o*s.maxRadius;t.scale.set(e,1,e),t.material.opacity=.6*(1-o)}else t.scale.set(0,0,0)}})}),(0,l.jsx)("group",{children:r.map((e,t)=>(0,l.jsxs)("mesh",{ref:e=>n.current[t]=e,rotation:[-Math.PI/2,0,0],children:[(0,l.jsx)("ringGeometry",{args:[.8,1,32]}),(0,l.jsx)("meshStandardMaterial",{color:"#ff6600",transparent:!0,opacity:.6,emissive:"#ff4400",emissiveIntensity:.5,side:c.DoubleSide})]},e.id))})},h=e=>{let{isActive:t,intensity:i=1}=e;const r=(0,s.useRef)(),o=(0,s.useRef)([]),[n]=(0,s.useState)(()=>[...Array(50)].map((e,t)=>({id:t,initialPosition:[.5*(Math.random()-.5),.5*(Math.random()-.5),.5*(Math.random()-.5)],velocity:[2*(Math.random()-.5),3*Math.random()+1,2*(Math.random()-.5)],size:.02*Math.random()+.01,color:Math.random()>.5?"#ff4400":"#ffaa00"})));return(0,a.C)((e,i)=>{t&&o.current&&o.current.forEach((t,i)=>{if(t&&n[i]){const s=n[i],a=e.clock.elapsedTime,r=s.initialPosition[1]+s.velocity[1]*a-4.9*Math.pow(a,2)*.1;t.position.set(s.initialPosition[0]+s.velocity[0]*a,Math.max(-2,r),s.initialPosition[2]+s.velocity[2]*a),t.material&&(t.material.opacity=Math.max(0,1-a/5))}})}),t?(0,l.jsx)("group",{ref:r,children:n.map((e,t)=>(0,l.jsxs)("mesh",{ref:e=>o.current[t]=e,position:e.initialPosition,scale:e.size,children:[(0,l.jsx)("sphereGeometry",{args:[1,8,8]}),(0,l.jsx)("meshStandardMaterial",{color:e.color,emissive:e.color,emissiveIntensity:.3,transparent:!0,opacity:1})]},e.id))}):null},x=e=>{let{position:t,impactData:i}=e;const[a,r]=(0,s.useState)(!1),[o,n]=(0,s.useState)(1);return(0,s.useEffect)(()=>{if(i){r(!0);const e=i.kineticEnergy||1e15;n(Math.min(3,Math.max(.5,e/1e15)))}},[i]),(0,l.jsxs)("group",{position:t,children:[(0,l.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.1,0],children:[(0,l.jsx)("planeGeometry",{args:[20,20]}),(0,l.jsx)("meshStandardMaterial",{color:"#2d5016",roughness:.9})]}),a&&(0,l.jsx)(d,{position:[0,0,0],size:.3*o,depth:.1*o}),(0,l.jsx)(p,{isActive:a,intensity:o}),(0,l.jsx)(h,{isActive:a,intensity:o}),a&&(0,l.jsxs)("mesh",{position:[0,.5,0],children:[(0,l.jsx)("sphereGeometry",{args:[.3*o,16,16]}),(0,l.jsx)("meshStandardMaterial",{color:"#ff4400",emissive:"#ff6600",emissiveIntensity:2,transparent:!0,opacity:.8})]})]})},m=e=>{let{impactData:t,position:i}=e;if(!t)return null;const{kineticEnergy:s=0,craterDiameter:a=0,earthquakeMagnitude:r=0,casualties:n={},economicDamage:c=0}=t;return(0,l.jsx)(o.E,{position:i,children:(0,l.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.9)",color:"#ffffff",padding:"16px",borderRadius:"12px",fontSize:"13px",minWidth:"280px",border:"2px solid #ff4400",boxShadow:"0 0 20px rgba(255, 68, 0, 0.3)"},children:[(0,l.jsx)("h6",{style:{margin:"0 0 12px 0",color:"#ff6600",textAlign:"center",textTransform:"uppercase",letterSpacing:"1px"},children:"\ud83d\udd25 IMPACT ANALYSIS \ud83d\udd25"}),(0,l.jsxs)("div",{style:{display:"grid",gap:"6px"},children:[(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,l.jsx)("span",{children:"\u26a1 Kinetic Energy:"}),(0,l.jsxs)("span",{style:{color:"#ffaa00"},children:[(s/1e15).toFixed(2)," PJ"]})]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,l.jsx)("span",{children:"\ud83d\udd73\ufe0f Crater Diameter:"}),(0,l.jsxs)("span",{style:{color:"#ffaa00"},children:[(a/1e3).toFixed(2)," km"]})]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,l.jsx)("span",{children:"\ud83c\udf0d Earthquake:"}),(0,l.jsxs)("span",{style:{color:"#ffaa00"},children:["Magnitude ",r.toFixed(1)]})]}),(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,l.jsx)("span",{children:"\ud83d\udcb0 Economic Damage:"}),(0,l.jsxs)("span",{style:{color:"#ff4444"},children:["$",(c/1e9).toFixed(1),"B"]})]}),n.total&&(0,l.jsxs)("div",{style:{marginTop:"8px",padding:"8px",background:"rgba(255, 68, 68, 0.2)",borderRadius:"6px",textAlign:"center"},children:[(0,l.jsx)("div",{style:{color:"#ff4444",fontWeight:"bold"},children:"\u26a0\ufe0f Estimated Casualties"}),(0,l.jsxs)("div",{style:{color:"#ffcccc",fontSize:"12px"},children:[n.total.toLocaleString()," people affected"]})]})]})]})})},f=e=>{let{impactData:t,asteroidData:i,animate:a=!1,onAnimationComplete:d}=e;const[p,h]=(0,s.useState)("approach"),[f,u]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{if(a){h("approach"),u(!1);const e=setTimeout(()=>{h("impact"),u(!0)},2e3),t=setTimeout(()=>{h("aftermath"),d&&d()},5e3);return()=>{clearTimeout(e),clearTimeout(t)}}},[a,d]),(0,l.jsxs)("div",{style:{width:"100%",height:"600px",borderRadius:"12px",overflow:"hidden",background:"linear-gradient(135deg, #0a0a0a 0%, #2d1810 100%)",position:"relative"},children:[(0,l.jsxs)(r.Hl,{camera:{position:[0,3,8],fov:60},children:[(0,l.jsx)("ambientLight",{intensity:.2}),(0,l.jsx)("directionalLight",{position:[10,10,5],intensity:1.2,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048}),(0,l.jsx)("pointLight",{position:[0,5,0],intensity:.5,color:"#ff6600"}),(0,l.jsx)(x,{position:[0,0,0],impactData:f?t:null}),"approach"===p&&i&&(0,l.jsxs)("mesh",{position:[5,3,5],children:[(0,l.jsx)("dodecahedronGeometry",{args:[.1,1]}),(0,l.jsx)("meshStandardMaterial",{color:"#8B4513",emissive:"#ff4400",emissiveIntensity:.2})]}),(0,l.jsx)(m,{impactData:t,position:[4,2,0]}),(0,l.jsxs)("mesh",{position:[0,-5,0],rotation:[-Math.PI/2,0,0],children:[(0,l.jsx)("planeGeometry",{args:[100,100]}),(0,l.jsx)("meshStandardMaterial",{color:"#1a1a0a"})]}),(0,l.jsxs)("mesh",{children:[(0,l.jsx)("sphereGeometry",{args:[50,32,32]}),(0,l.jsx)("meshBasicMaterial",{color:"impact"===p?"#ff2200":"#000822",side:c.BackSide,transparent:!0,opacity:.8})]}),(0,l.jsx)(n.N,{enableZoom:!0,enablePan:!0,enableRotate:!0,minDistance:3,maxDistance:25,maxPolarAngle:Math.PI/2,target:[0,0,0]}),(0,l.jsx)(o.E,{position:[-6,-2,0],children:(0,l.jsxs)("div",{style:{color:"#cccccc",fontSize:"11px",background:"rgba(0, 0, 0, 0.7)",padding:"8px",borderRadius:"4px",maxWidth:"200px"},children:[(0,l.jsx)("div",{style:{color:"#ff6600",fontWeight:"bold",marginBottom:"4px"},children:"\ud83c\udfac Impact Simulation"}),(0,l.jsxs)("div",{children:["Phase: ",p.toUpperCase()]}),(0,l.jsxs)("div",{style:{marginTop:"8px",fontSize:"10px"},children:["\ud83d\uddb1\ufe0f Drag to rotate view",(0,l.jsx)("br",{}),"\ud83d\udd0d Scroll to zoom",(0,l.jsx)("br",{}),"\ud83d\udcca Statistics panel on right"]})]})})]}),(0,l.jsxs)("div",{style:{position:"absolute",top:"20px",left:"20px",background:"rgba(0, 0, 0, 0.8)",color:"#ffffff",padding:"12px",borderRadius:"8px",border:"2px solid #ff6600"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold",color:"#ff6600"},children:"Animation Phase"}),(0,l.jsx)("div",{style:{textTransform:"capitalize",fontSize:"14px"},children:p}),a&&(0,l.jsxs)("div",{style:{fontSize:"10px",color:"#cccccc",marginTop:"4px"},children:["approach"===p&&"\ud83d\ude80 Asteroid approaching...","impact"===p&&"\ud83d\udca5 Impact in progress!","aftermath"===p&&"\ud83d\udd25 Analyzing consequences..."]})]})]})}}}]);
//# sourceMappingURL=60.2caa849f.chunk.js.map